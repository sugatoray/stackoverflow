# Question 66620236

**Description: [_multiple modification to a list at once_][#Q]**

[Source][#Q]

[#Q]: https://stackoverflow.com/questions/66620236/multiple-modification-to-a-list-at-once/66620817#66620817

## Keywords

```bash
# comma separated list of keywords
python, regex, text-processing
```

---

# Solution

You can use the `regex` (regular expression) module to extract any pattern that matches that of the 
mac-ids: `"xxxx:xxxx:xxxx"` and then process it to produce the expected output (`"xx-xx-xx-xx-xx-xx"`) 
as shown below.

> Note: I have used a dummy data file (see section: **Dummy Data** below) to make this answer 
> reproducible. It should work with your data as well.

```python
# import re

filepath = "input.txt"
content = read_file(filepath)
mac_ids = extract_mac_ids(content, format=True) # format=False --> "xxxx:xxxx:xxxx"

print(mac_ids)

## OUTPUT:
#
# ['00-11-22-33-44-55',
#  '11-22-33-44-55-66',
#  '44-11-77-33-66-55',
#  '66-11-22-33-99-55']
```

## **Code**: Convenience Functions

```python
def read_file(filepath: str):
    """Reads and returns the content of a file."""

    with open(filepath, "r") as f:
        content = f.read() # read in one attemp
    return content

def format_mac_id(mac_id: str):
    """Returns a formatted mac_id.
    INPUT FORMAT: "xxxxxxxxxxxx"
    OUTPUT FORMAT: "xx-xx-xx-xx-xx-xx"
    """
    
    mac_id = list(mac_id)
    mac_id = ''.join([ f"-{v}" if (i % 2 == 0) else v for i, v in enumerate(mac_id)])[1:]
    return mac_id

def extract_mac_ids(content: str, format: bool=True):
    """Extracts and returns a list of formatted mac_ids after.
    INPUT FORMAT: "xxxx:xxxx:xxxx"
    OUTPUT FORMAT: "xx-xx-xx-xx-xx-xx"
    """
    
    import re
    pattern = r"(\d{4}:\d{4}:\d{4})"
    pat = re.compile(pattern)
    mac_ids = pat.findall(content) # returns a list of all mac-ids
    # Replaces the ":" with "" and then formats 
    # each mac-id as: "xx-xx-xx-xx-xx-xx"
    if format:
        mac_ids = [format_mac_id(mac_id.replace(":", "")) for mac_id in mac_ids]
    return mac_ids
```

## Dummy Data

The following code block creates a dummy file with some sample mac-ids. 

```python
filepath = "input.txt"

s = """
0011:2233:4455 ghwvauguvwi ybvakvi
klasilvavh; 1122:3344:5566
haliviv
4411:7733:6655
6611:2233:9955
"""

# Create dummy data file
with open(filepath, "w") as f:
    f.write(s)
```

---
